<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Cloud Demo</title>
    <!-- Import D3 -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- Random number generator -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.3/lib/alea.min.js"></script>
    <!-- d3-cloud library -->
    <script src="../../build/d3.layout.cloud.js"></script>
    <link rel="stylesheet" type='text/css' href="style.css">
</head>
<body>
    <center>
        <div id='cloud-container'></div>
    </center>

    <script src="wordcloud.js"></script>
    <script>
        base_url = "http://13.215.179.1:8080/"   // OPT: "http://localhost:8080/"
        hashtag =    // OPT: あんスタ, あんスタウェルカム祭, はじめてさんいらっしゃ〜い
            (window.location.href.includes("hashtag=") && window.location.href.split("hashtag=")[1].split("&")[0].trim().length > 0) ? 
            window.location.href.split("hashtag=")[1].split("&")[0].trim() :    // get the path var of hashtag, which is between "hashtag=" and "&"(if any)
            "あんスタ";
        url = base_url + "api/v1/tweets?term=" + hashtag;
        console.log("url = ", url);
        WordCloud({
            container: '#cloud-container',
            data: url
        });
    </script>
</body>
</html>